
I want to post a comment
  if I am the author
    my post should show up on the post page
    I should be able to post a comment
  if I am not a member
    I should not be able to to post a comment
  if I am a member of the group
    my post should show up on the post page
    I should be able to to post a comment

Assignment
  should respond to #role
  should respond to #user
  should respond to #group
  should be valid
  default role
    should be the default role
  changing role through a group
    should be the new role
  changing role through a user
    should be the new role

Translation
  should be valid
  should respond to #key
  should respond to #value
  should respond to #locale
  when key is not defined
    should not be valid
  lang_list should return all the languages
    should list the available languages
    should have valid translations
  when value is not provided
    should not be valid
  when locale is not defined
    should not be valid
  when language format is valid
    should be valid
  when language format is invalid
    should not be valid

Authentication
  signin page
    with valid information
      should has link "Profile"
      should has link "Settings"
      should has css "title" with text "Jane Doe 43"
      should has link "Sign out"
      should not has link "Sign in"
      followed by signout
        should has link "Sign in"
    with invalid information
      should has css "div.alert.alert-error" with text "Invalid"
      should has css "title" with text "Sign in"
      after visiting another page
        should not has css "div.alert.alert-error"
  when making a new group
    when user is signed in
      should has css "title" with text "New Group"
    when user is not signed in
      should not has css "title" with text "New Group"
      should has css "title" with text "Sign in"
  authorization
    as wrong user
      submitting a PUT request to the Users#update action
        should redirect to "/signin"
      visiting Users#edit page
        should not has css "title" with text "HIWIPI | Edit user"
    for non-signed in users
      in the Users controller
        submitting to the update action
          should redirect to "/signin"
        visiting the edit page
          should has css "title" with text "Sign in"
      when attempting to visit a protected page
        after signing in
          should render the desired protected page

Comment
  should respond to #message

Home pages
  content
    should has css "div"
    should has css "div"
    should has css "div"
    should has content "HIWIPI"

User Pages
  edit
    page
      should has css "h1" with text "Update your profile"
      should has link "change"
      should has css "title" with text "Edit user"
    with valid information
      should has css "div.alert.alert-success"
      should == "new@example.com"
      should has link "Sign out"
      should has css "title" with text "New"
      should == "Name"
      should == "New"
    with invalid information
      should has content "error"
  profile page
    should has css "h1" with text "Doe 65"
    should has css "h1" with text "Jane"
  signup
    with valid information
      should create a user
    with invalid information
      should not create a user
      after submission
        should has content "error"
  signup page
    should has css "h1" with text "Sign up"

I want to change the language
  if I am using a language that is not supported
    via a http header
      I should see the greeting in the default language (FAILED - 1)
    via the query string
      I should see the greeting in the default language (FAILED - 2)
  if I am using the query string for portuguese
    I should see the greeting in portuguese
  if I am not using anything
    I should see the greeting in english (FAILED - 3)
  if I am using the query string for english
    I should see the greeting in english (FAILED - 4)

Group
  should respond to #location
  should respond to #posts
  should respond to #name
  should respond to #users
  should be valid
  when location is not present
    should not be valid
  method to check role
    should evaluate that the role is incorrect
    should evaluate that the role is correct using the default
    should evaluate that the role is correct
  when name is too long
    should not be valid
  when name is not present
    should not be valid
  when it is assigned a user
    should have a user
  when it creates a user
    should have a user

Group pages
  index group page
    should list each group
  when a user wants to leave a group
    should unassign the user from the group
    should has css "a" with text "Leave this group"
    after leave is pressed
      should not has css "div.alert.alert-error"
      should has css "div.alert.alert-success" with text "You are no longer a member of this group"
  group profile page with posts
    should list each post
    should has css "h1" with text "Profile Page"
    should has css "h1" with text "Test Group"
    should has css "a"
  new group page
    with valid information
      should has css "select"
      should assign current user as admin
      should has css "select"
      should has css "input"
      should show the group profile page
      should create a new group
      should not have an error
    with invalid information
      should not create a group
      after submission
        should has content "error"
  members page
    should has css "h1" with text "Members of Popular Group"
    should has css "title" with text "Group members"
    when a User joins a group
      and is signed in
        should has css "a" with text "Join this group"
        and isn't a member yet
          should assign the user to the group
          should has css "a" with text "Join this group"
          there should be a success message
            should has css "div.alert.alert-success" with text "You have successfully joined this group"
        but is already a member
          should has css "a"
          should not has css "a" with text "Join this group"
          submitting a POST request to the Groups#assign action
            should not assign the user
            should redirect to "/groups/22/members"
      and is not signed in
        should not has content "{:text=>\"Leave this group\"}"
        should not has content "{:text=>\"Join this group\"}"
    when a Group has members
      should list each user
  group profile page without posts
    should has css "li" with text "You haven't made any posts yet"
    should has css "a"

Post pages
  new post page, with signed in user
    should has css "title" with text "New Post"
    with valid information
      should make a new post
      should redirect to group homepage
        should has content "Test"
        should has content "Profile Page for Test Group"
    with invalid information
      should not make a new post
      after submission
        should has content "error"
  tiered posts
    should list posts for all groups
    when looking for posts in a country
      should list only posts in the US
  new post page, when not signed in
    should has css "title" with text "Sign in"
    after signing in
      should has css "title" with text "New Post"
  show post page
    should has css "h1" with text "Test"
    should has css "p" with text "This is a test post"
    should has css "title" with text "Show Post"
    should has css "a"
    should has css "a"
    if current user is the author
      should delete the post
      should has css "a" with text "Delete this post?"
    if the current user not a member of the group
      should not has css "input"
      should not has css "a" with text "add a comment"
      should not has field "comment_message"
      should not has css "a" with text "Delete this post?"
    if current user is a member of group
      should not has css "a" with text "Delete this post?"
      should has css "input"
      should has field "comment_message"
  index
    should list all posts
  new post page, when not a member
    should has css "title" with text "Group members"
    after submitting
      should has css "title" with text "New Post"

Map
  should respond to #topo
  should respond to #location
  with empty constuctor
    should eql ""
  with filled out constructor
    should eql "BRA"

Post
  should respond to #title
  should respond to #author_id
  should respond to #group_id
  should respond to #content
  should be valid
  should respond to #author
  should respond to #group
  when content is not present
    should not be valid
  when trying to find posts in a country
    should only have the first post
  when title is not present
    should not be valid
  group
    should == #<Group id: 71, name: "Noodle Club", location: "US.CO", created_at: "2013-08-06 20:08:50", updated_at: "2013-08-06 20:08:50">
  when group_id is not present
    should not be valid
  accesible attributes
    should not allow access to group_id

User
  should respond to #password_confirmation
  should respond to #password_digest
  should respond to #email
  should respond to #first
  should respond to #groups
  should respond to #authenticate
  should respond to #remember_token
  should respond to #password
  should respond to #last
  should be valid
  should respond to #posts
  return value of authenticate method
    with invalid password
      should be false
      should not == false
    with valid password
      should == #<User id: 164, first: "John", last: "Doe", email: "jdoe@example.com", created_at: "2013-08-06 20:08:51", updated_at: "2013-08-06 20:08:51", password_digest: "$2a$10$si4VBioqD48kZwhnBRqYzei72vF3X9REbUT6e3H6N.Q....", remember_token: "fXzNIAKXw2RUf6qt9bG6Bg">
  when joins a group
    should be a member of the group
  a valid user
    should be able to make groups
    should have a role in a group
      should have the correct role
    should belong to two groups
      should list each group
  when last name is not present
    should not be valid
  when first name is not present
    should not be valid
  when password is not present
    should not be valid
  when last name is too long
    should not be valid
  when email is already taken
    should not be valid
  when first name is too long
    should not be valid
  when email format is invalid
    should not be valid
  when email is not present
    should not be valid
  method to check role
    should evaluate that the role is incorrect
    should evaluate that the role is correct using the default
    should evaluate that the role is correct
  when password is too short
    should not be valid
  when password confirmation is nil
    should not be valid
  when email format is valid
    should be valid
  remember token
    remember_token
      should not be blank
  when password doesn't match confirmation
    should not be valid

Failures:

  1) I want to change the language if I am using a language that is not supported via a http header I should see the greeting in the default language
     Failure/Error: page.should_not have_content("translation missing")
       expected content "translation missing" not to return anything
     # ./spec/features/I18n_translation_spec.rb:67:in `block (4 levels) in <top (required)>'

  2) I want to change the language if I am using a language that is not supported via the query string I should see the greeting in the default language
     Failure/Error: page.should_not have_content("translation missing")
       expected content "translation missing" not to return anything
     # ./spec/features/I18n_translation_spec.rb:54:in `block (4 levels) in <top (required)>'

  3) I want to change the language if I am not using anything I should see the greeting in english
     Failure/Error: page.should_not have_content("translation missing")
       expected content "translation missing" not to return anything
     # ./spec/features/I18n_translation_spec.rb:41:in `block (3 levels) in <top (required)>'

  4) I want to change the language if I am using the query string for english I should see the greeting in english
     Failure/Error: page.should have_selector("h1", text: @english_trans.value)
       expected css "h1" with text "Sign in" to return something
     # ./spec/features/I18n_translation_spec.rb:17:in `block (3 levels) in <top (required)>'

Finished in 1 minute 3.31 seconds
190 examples, 4 failures

Failed examples:

rspec ./spec/features/I18n_translation_spec.rb:66 # I want to change the language if I am using a language that is not supported via a http header I should see the greeting in the default language
rspec ./spec/features/I18n_translation_spec.rb:53 # I want to change the language if I am using a language that is not supported via the query string I should see the greeting in the default language
rspec ./spec/features/I18n_translation_spec.rb:40 # I want to change the language if I am not using anything I should see the greeting in english
rspec ./spec/features/I18n_translation_spec.rb:15 # I want to change the language if I am using the query string for english I should see the greeting in english

Randomized with seed 375

